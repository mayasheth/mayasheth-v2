---
// src/components/NavigationHome.astro
import SearchButton from "@/components/search/SearchButton.astro";
import MobileMenu from "@/components/layout/MobileMenu.astro";
import SearchModal from "@/components/search/SearchModal.astro";
import { NAV_ITEMS } from "@/data/navData";

const headerClasses =
  "font-header text-lg font-semibold tracking-wide text-content-1";
const linkClasses =
  "block font-header text-base font-light text-content-3 rounded-xl py-1.5 hover:text-content-2 hover:bg-surface-2 hover:font-semibold focus-outline-rounded soft-transition";
---

<aside
  class="bg-surface-1 fixed top-0 left-0 z-50 hidden h-full flex-col items-center pt-6 pb-8 md:flex md:w-54 lg:w-68"
>
  <!-- Name and logo -->
  <div class="mb-6 flex flex-row items-center">
    <img
      src="/tricolor-paw.svg"
      alt="paw-logo"
      class="mt-2 mr-2 h-auto md:w-10 lg:w-14"
    />
    <span
      class="text-content-3 mt-3 mb-1 font-serif font-bold tracking-tight md:text-xl lg:text-3xl"
      >maya sheth</span
    >
  </div>

  <!-- Search icon -->
  <div class="mx-auto mb-4 flex w-5/6 flex-row items-center justify-center">
    <SearchButton id="search-trigger" size="h-8 w-8" label="search" />
  </div>

  <!-- Navigation (sidebar) -->
  <nav class="w-full text-center">
    {
      NAV_ITEMS.map((section) => (
        <div class="mb-4">
          <div class={headerClasses}>{section.label}</div>
          <div class="flex flex-col">
            {section.children.map((link) => (
              <a href={link.href} class={linkClasses}>
                {link.label}
              </a>
            ))}
          </div>
        </div>
      ))
    }
  </nav>

  <!-- Search modal (sidebar and mobile share) -->
  <SearchModal />
</aside>

<!-- Mobile header/nav -->
<header class="bg-surface-2 sticky top-0 z-50 p-3 md:hidden">
  <div class="mx-auto flex max-w-6xl items-center justify-between">
    <div class="flex items-end justify-center">
      <img class="-mb-0.5 h-auto w-8" src="/tricolor-paw.svg" alt="paw-logo" />
      <a
        href="/"
        class="text-content-3 soft-transition hover:text-content-2 focus-outline-rounded ml-2 font-serif text-xl font-bold"
        >maya sheth</a
      >
    </div>
    <MobileMenu navItems={NAV_ITEMS} mode="icons" />
  </div>

  <MobileMenu navItems={NAV_ITEMS} mode="dropdown" />
  <!--- Mobile dropdown -->

  <SearchModal />
  <!-- For mobile menu/modal -->
</header>
